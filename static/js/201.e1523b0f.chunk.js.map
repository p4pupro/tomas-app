{"version":3,"file":"static/js/201.e1523b0f.chunk.js","mappings":"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","sources":["components/Items/ItemPis.js","components/Table/TablePis.js","pages/Pis/Pis.js"],"sourcesContent":["import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\r\nimport { motion } from \"framer-motion\"\r\nimport '../Table/table.css';\r\n\r\nexport const ItemPis = (props) => {\r\n\r\n    const iconDelete = <FontAwesomeIcon icon={faTrash} />\r\n    \r\n    const { date, time, amount, id } = props.pi\r\n    const { handleDelete, total, average } = props\r\n\r\n    return (\r\n        <>\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">Fecha</th>\r\n                    <th scope=\"col\">Hora</th>\r\n                    <th scope=\"col\">Cantidad</th>\r\n                    <th scope=\"col\">Total Diario</th>\r\n                    <th scope=\"col\">Promedio</th>\r\n                    <th scope=\"col\">Borrar</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td data-label=\"Fecha\">{ date }</td>\r\n                    <td data-label=\"Hora\">{ time }</td>\r\n                    <td data-label=\"Cantidad\">{ amount }</td>\r\n                    <td data-label=\"Total Diario\">{ total }</td>\r\n                    <td data-label=\"Promedio\">{ average }</td>\r\n                    <td data-label=\"Borrar\">\r\n                        <motion.button\r\n                            onClick={ () => handleDelete(id) }\r\n                            whileHover={{ scale: 1.1 }}\r\n                            whileTap={{ scale: 0.9 }}\r\n                        >   \r\n                            { iconDelete }\r\n                        </motion.button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </>\r\n       )\r\n}","import { ItemPis } from '../Items/ItemPis';\r\nimport { motion } from \"framer-motion\";\r\nimport './table.css';\r\n\r\n\r\nexport const TablePis = (props) => {\r\n\r\n  const { pis, total, average, handleDelete } = props\r\n\r\n  const cardVariants = {\r\n    offscreen: {\r\n      y: 300\r\n    },\r\n    onscreen: {\r\n      y: 5,\r\n      transition: {\r\n        type: \"spring\",\r\n        bounce: 0.4,\r\n        duration: 0.9\r\n      }\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"wrap-table\">\r\n      <motion.table\r\n        initial=\"offscreen\"\r\n        whileInView=\"onscreen\"\r\n        viewport={{ once: true }}\r\n        variants={cardVariants}\r\n      >\r\n        <caption>Historial</caption>\r\n          {\r\n            pis ? pis.map((pi, index) => {\r\n              return (\r\n                <ItemPis\r\n                  key={index} \r\n                  pi={pi}\r\n                  total={total}\r\n                  average={average}\r\n                  handleDelete={handleDelete} \r\n                />\r\n              )\r\n            })\r\n          :\r\n            <tbody></tbody>\r\n          }  \r\n      </motion.table>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useCallback, useState } from 'react';\r\nimport { Formik, Field } from 'formik';\r\nimport { collection, getDocs, setDoc, query, orderBy, deleteDoc, doc, Timestamp, where } from 'firebase/firestore';\r\nimport { TablePis } from '../../components/Table/TablePis';\r\nimport { generateUUID } from '../../utils/utils';\r\nimport { motion } from \"framer-motion\";\r\nimport '../../App.css';\r\n\r\nconst Pis = (props) => {\r\n\r\n  const { db } = props;\r\n\r\n  const [pis, setPis] = useState(null);\r\n  const [average, setAverage] = useState(null);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  const averagePis = useCallback(() => {\r\n    if(!pis) return;\r\n    const total = pis.reduce((acc, pis) => {\r\n        return acc + 1;\r\n    }, 0);\r\n    const average = total / pis.length;\r\n    return average;\r\n  }, [pis]);\r\n\r\n  useEffect(() => {\r\n    if(db) getPis(db).then(data => setPis(data));\r\n  }, [db]);\r\n\r\n  useEffect(() => {\r\n    if(db) getTotalPisByDay(db).then(data => setTotal(data));\r\n  }, [db]);\r\n\r\n  useEffect(() => {\r\n    setAverage(averagePis());\r\n  }, [pis, averagePis]);\r\n\r\n\r\n      /**\r\n   *  Eliminate doc\r\n   * @param {*} id \r\n   */\r\n       const handleDelete = async (id) => {\r\n        await deleteDoc(doc(db, \"pis-v1/\", id));\r\n        getPis(db).then(data => setPis(data));\r\n      }\r\n    \r\n      /**\r\n       * Set doc\r\n       * @param {*} param0 \r\n       */\r\n      const savePis = async ({ amount }) => {\r\n          const id = generateUUID();\r\n          await setDoc(doc(db, \"pis-v1/\", id), {\r\n            id, \r\n            date: new Date().toLocaleDateString(\"es-ES\"),\r\n            amount,\r\n            time: new Date().toLocaleTimeString(),\r\n            timeStamp: Timestamp.now()\r\n          });\r\n        getPis(db).then(data => setPis(data));  \r\n      }\r\n    \r\n      /**\r\n       * Get All Documents order by timeStamp\r\n       * @param {*} db \r\n       * @returns \r\n       */\r\n      const getPis = async (db) => {\r\n        const pisCol = collection(db, 'pis-v1/');\r\n        const q = query(pisCol, orderBy(\"timeStamp\", \"desc\"));\r\n        const pisDnapshot = await getDocs(q);\r\n        const pisList = pisDnapshot.docs.map(doc => doc.data());\r\n        return pisList;\r\n      }\r\n\r\n      /**\r\n       * get pis by day\r\n       * @param {*} db \r\n       * @return total pis on day\r\n       */\r\n      const getTotalPisByDay = async (db) => {\r\n        const pisCol = collection(db, 'pis-v1/');\r\n        const q = query(pisCol, where(\"date\", \"==\", new Date().toLocaleDateString(\"es-ES\")));\r\n        const pisSnapshot = await getDocs(q);\r\n        const pisList = pisSnapshot.docs.map(doc => doc.data());\r\n        return pisList.length;\r\n      }\r\n\r\n\r\n    return (\r\n      <>\r\n        <Formik\r\n          initialValues={{ amount: ''}}\r\n          validate={values => {\r\n            const errors = {};\r\n            if (!values.amount) {\r\n              errors.amount = 'Required';\r\n            }\r\n            return errors;\r\n          }}\r\n          onSubmit={(values, { setSubmitting, resetForm }) => {\r\n            console.log(values);\r\n            savePis(values);\r\n            setSubmitting(false);\r\n            resetForm();\r\n          }}\r\n        >\r\n          {({\r\n            errors,\r\n            handleSubmit,\r\n            isSubmitting\r\n          }) => (\r\n          <form onSubmit={handleSubmit}>\r\n          \r\n            <div className=\"col-s-12 col-xs-12\" style={{ width: '100%' }} role=\"group\" aria-labelledby=\"radio-tit\">\r\n              <div id=\"radio-tit\">Orina</div>\r\n              <label htmlFor=\"amount\" className='col-xs-12 col-s-6'>\r\n                Poco\r\n                <Field type=\"radio\" name=\"amount\" value=\"poco\" className=\"col-xs-6 col-s-6 pis\"  /> \r\n              </label>      \r\n              <label htmlFor=\"amount\" className='col-xs-12 col-s-6'>\r\n                Mucho\r\n                <Field type=\"radio\" name=\"amount\" value=\"mucho\" className=\"col-xs-6 col-s-6 pis\" />\r\n              </label>\r\n              \r\n            </div>\r\n\r\n              {errors.amount && (\r\n                <span className=\"error\">{errors.amount}</span>\r\n              )}\r\n            \r\n            <motion.button\r\n              type=\"submit\" \r\n              className=\"button-register\"\r\n              disabled={isSubmitting}\r\n              whileHover={{ scale: 1.1 }}\r\n              whileTap={{ scale: 0.9, backgroundColor: '#00B98E' }}\r\n            > Registrar orina\r\n            </motion.button>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n  \r\n      <TablePis pis={pis} total={total} average={average} handleDelete={handleDelete} />\r\n    </>\r\n    );\r\n  }\r\n\r\n  export default Pis;"],"names":["ItemPis","props","iconDelete","icon","faTrash","pi","date","time","amount","id","handleDelete","total","average","scope","motion","onClick","whileHover","scale","whileTap","TablePis","pis","className","initial","whileInView","viewport","once","variants","offscreen","y","onscreen","transition","type","bounce","duration","map","index","db","useState","setPis","setAverage","setTotal","averagePis","useCallback","reduce","acc","length","useEffect","getPis","then","data","getTotalPisByDay","deleteDoc","doc","savePis","generateUUID","setDoc","Date","toLocaleDateString","toLocaleTimeString","timeStamp","Timestamp","pisCol","collection","q","query","orderBy","getDocs","pisDnapshot","pisList","docs","where","pisSnapshot","initialValues","validate","values","errors","onSubmit","setSubmitting","resetForm","console","log","handleSubmit","isSubmitting","style","width","role","htmlFor","name","value","disabled","backgroundColor"],"sourceRoot":""}