{"version":3,"file":"static/js/405.e2ac8ad5.chunk.js","mappings":"iRAKaA,EAAW,SAACC,GAErB,IAAMC,GAAa,SAAC,IAAD,CAAiBC,KAAMC,EAAAA,MAE1C,EAAiCH,EAAMI,KAA/BC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,KAAMC,EAApB,EAAoBA,KAAMC,EAA1B,EAA0BA,GAClBC,EAAiCT,EAAjCS,aAAcC,EAAmBV,EAAnBU,MAAOC,EAAYX,EAAZW,QAE7B,OACI,iCACI,4BACI,2BACI,eAAIC,MAAM,MAAV,oBACA,eAAIA,MAAM,MAAV,mBACA,eAAIA,MAAM,MAAV,mBACA,eAAIA,MAAM,MAAV,2BACA,eAAIA,MAAM,MAAV,uBACA,eAAIA,MAAM,MAAV,0BAGR,4BACI,2BACI,eAAI,aAAW,QAAf,SAAyBP,KACzB,eAAI,aAAW,OAAf,SAAwBC,KACxB,eAAI,aAAW,OAAf,SAAwBC,KACxB,eAAI,aAAW,eAAf,SAAgCG,KAChC,eAAI,aAAW,WAAf,SAA4BC,KAC5B,eAAI,aAAW,SAAf,UACI,SAACE,EAAA,SAAD,CACIC,QAAU,kBAAML,EAAaD,IAC7BO,WAAY,CAAEC,MAAO,KACrBC,SAAU,CAAED,MAAO,IAHvB,SAKMf,eChCjBiB,EAAY,SAAClB,GAExB,IAAQmB,EAAwCnB,EAAxCmB,MAAOT,EAAiCV,EAAjCU,MAAOC,EAA0BX,EAA1BW,QAASF,EAAiBT,EAAjBS,aAgB/B,OACE,gBAAKW,UAAU,aAAf,UACE,UAACP,EAAA,QAAD,CACEQ,QAAQ,YACRC,YAAY,WACZC,SAAU,CAAEC,MAAM,GAClBC,SApBe,CACnBC,UAAW,CACTC,EAAG,KAELC,SAAU,CACRD,EAAG,EACHE,WAAY,CACVtB,KAAM,SACNuB,OAAQ,GACRC,SAAU,MAOZ,WAME,2CAEIZ,EAAQA,EAAMa,KAAI,SAAC5B,EAAM6B,GACvB,OACE,SAAClC,EAAD,CAEEK,KAAMA,EACNM,MAAOA,EACPC,QAASA,EACTF,aAAcA,GAJTwB,OASX,2B,UC+GV,G,QApJa,SAACjC,GAEd,IAAQkC,EAAOlC,EAAPkC,GAER,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOhB,EAAP,KAAciB,EAAd,KACA,GAA8BD,EAAAA,EAAAA,UAAS,MAAvC,eAAOxB,EAAP,KAAgB0B,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,GAAnC,eAAOzB,EAAP,KAAc4B,EAAd,KAGMC,GAAeC,EAAAA,EAAAA,cAAY,WAC/B,GAAIrB,EAKJ,OAJcA,EAAMsB,QAAO,SAACC,EAAKtC,GAC7B,OAAOsC,EAAM,IACd,GACqBvB,EAAMwB,SAE7B,CAACxB,KAGJyB,EAAAA,EAAAA,YAAU,WACLV,GAAIW,EAASX,GAAIY,MAAK,SAAAC,GAAI,OAAIX,EAASW,QACzC,CAACb,KAEJU,EAAAA,EAAAA,YAAU,WACLV,GAAIc,EAAmBd,GAAIY,MAAK,SAAAC,GAAI,OAAIT,EAASS,QACnD,CAACb,KAEJU,EAAAA,EAAAA,YAAU,WACRP,EAAWE,OACV,CAACpB,EAAOoB,IAMN,IAAM9B,EAAY,mCAAG,WAAOD,GAAP,kFACdyC,EAAAA,EAAAA,KAAUC,EAAAA,EAAAA,IAAIhB,EAAI,WAAY1B,IADhB,OAEpBqC,EAASX,GAAIY,MAAK,SAAAC,GAAI,OAAIX,EAASW,MAFf,2CAAH,sDASbI,EAAS,mCAAG,8FAAS5C,EAAT,EAASA,KACjBC,GAAK4C,EAAAA,EAAAA,MADG,UAERC,EAAAA,EAAAA,KAAOH,EAAAA,EAAAA,IAAIhB,EAAI,YAAa1B,GAAK,CACrCA,GAAAA,EACAH,MAAM,IAAIiD,MAAOC,mBAAmB,SACpChD,KAAAA,EACAD,MAAM,IAAIgD,MAAOE,qBACjBC,UAAWC,EAAAA,GAAAA,QAPC,OAShBb,EAASX,GAAIY,MAAK,SAAAC,GAAI,OAAIX,EAASW,MATnB,2CAAH,sDAiBTF,EAAQ,mCAAG,WAAOX,GAAP,oFACTyB,GAAWC,EAAAA,EAAAA,IAAW1B,EAAI,aAC1B2B,GAAIC,EAAAA,EAAAA,IAAMH,GAAUI,EAAAA,EAAAA,IAAQ,YAAa,SAFhC,UAGYC,EAAAA,EAAAA,IAAQH,GAHpB,cAGTI,EAHS,OAITC,EAAWD,EAAaE,KAAKnC,KAAI,SAAAkB,GAAG,OAAIA,EAAIH,UAJnC,kBAKRmB,GALQ,2CAAH,sDAaRlB,EAAkB,mCAAG,WAAOd,GAAP,oFACnByB,GAAWC,EAAAA,EAAAA,IAAW1B,EAAI,aAC1B2B,GAAIC,EAAAA,EAAAA,IAAMH,GAAUS,EAAAA,EAAAA,IAAM,OAAQ,MAAM,IAAId,MAAOC,mBAAmB,WAFnD,UAGES,EAAAA,EAAAA,IAAQH,GAHV,cAGnBI,EAHmB,OAInBC,EAAWD,EAAaE,KAAKnC,KAAI,SAAAkB,GAAG,OAAIA,EAAIH,UAJzB,kBAKlBmB,EAASvB,QALS,2CAAH,sDAS1B,OACE,iCACE,SAAC,KAAD,CACE0B,cAAe,CAAE9D,KAAM,IACvB+D,SAAU,SAAAC,GACR,IAAMC,EAAS,GAIf,OAHKD,EAAOhE,OACViE,EAAOjE,KAAO,YAETiE,GAETC,SAAU,SAACF,EAAD,GAA2C,IAAhCG,EAA+B,EAA/BA,cAAeC,EAAgB,EAAhBA,UAClCxB,EAAUoB,GACVG,GAAc,GACdC,KAZJ,SAeG,gBACCH,EADD,EACCA,OACAI,EAFD,EAECA,aACAC,EAHD,EAGCA,aAHD,OAKD,kBAAMJ,SAAUG,EAAhB,WAEE,iBAAKxD,UAAU,qBAAqB0D,KAAK,QAAQ,kBAAgB,YAAjE,WACE,gBAAKtE,GAAG,YAAR,mBACA,mBAAOuE,QAAQ,OAAO3D,UAAU,oBAAhC,wBAEE,SAAC,KAAD,CAAOb,KAAK,QAAQyE,KAAK,OAAOC,MAAM,UAAW7D,UAAU,yBAE7D,mBAAO2D,QAAQ,OAAO3D,UAAU,oBAAhC,oBAEE,SAAC,KAAD,CAAOb,KAAK,QAAQyE,KAAK,OAAOC,MAAM,SAAS7D,UAAU,yBAE3D,mBAAO2D,QAAQ,OAAO3D,UAAU,oBAAhC,qBAEE,SAAC,KAAD,CAAOb,KAAK,QAAQyE,KAAK,OAAOC,MAAM,UAAU7D,UAAU,yBAE5D,mBAAO2D,QAAQ,OAAO3D,UAAU,oBAAhC,kBAEE,SAAC,KAAD,CAAOb,KAAK,QAAQyE,KAAK,OAAOC,MAAM,OAAO7D,UAAU,2BAIxDoD,EAAOjE,OACN,iBAAMa,UAAU,QAAhB,SAAyBoD,EAAOjE,QAGpC,SAACM,EAAA,SAAD,CACEN,KAAK,SACLa,UAAU,kBACV8D,SAAUL,EACV9D,WAAY,CAAEC,MAAO,KACrBC,SAAU,CAAED,MAAO,IALrB,oCAYN,SAACE,EAAD,CAAWC,MAAOA,EAAOT,MAAOA,EAAOC,QAASA,EAASF,aAAcA,U","sources":["components/Items/ItemCaca.js","components/Table/TableCaca.js","pages/Cacas/Cacas.js"],"sourcesContent":["import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\r\nimport { motion } from \"framer-motion\"\r\nimport '../Table/table.css';\r\n\r\nexport const ItemCaca = (props) => {\r\n\r\n    const iconDelete = <FontAwesomeIcon icon={faTrash} />\r\n    \r\n    const { date, time, type, id } = props.caca\r\n    const { handleDelete, total, average } = props\r\n\r\n    return (\r\n        <>\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">Fecha</th>\r\n                    <th scope=\"col\">Hora</th>\r\n                    <th scope=\"col\">Tipo</th>\r\n                    <th scope=\"col\">Total Diario</th>\r\n                    <th scope=\"col\">Promedio</th>\r\n                    <th scope=\"col\">Borrar</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td data-label=\"Fecha\">{ date }</td>\r\n                    <td data-label=\"Hora\">{ time }</td>\r\n                    <td data-label=\"Tipo\">{ type }</td>\r\n                    <td data-label=\"Total Diario\">{ total }</td>\r\n                    <td data-label=\"Promedio\">{ average }</td>\r\n                    <td data-label=\"Borrar\">\r\n                        <motion.button\r\n                            onClick={ () => handleDelete(id) }\r\n                            whileHover={{ scale: 1.1 }}\r\n                            whileTap={{ scale: 0.9 }}\r\n                        >   \r\n                            { iconDelete }\r\n                        </motion.button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </>\r\n       )\r\n}","import { ItemCaca } from '../Items/ItemCaca';\r\nimport { motion } from \"framer-motion\";\r\nimport './table.css';\r\n\r\n\r\nexport const TableCaca = (props) => {\r\n\r\n  const { cacas, total, average, handleDelete } = props\r\n\r\n  const cardVariants = {\r\n    offscreen: {\r\n      y: 300\r\n    },\r\n    onscreen: {\r\n      y: 5,\r\n      transition: {\r\n        type: \"spring\",\r\n        bounce: 0.4,\r\n        duration: 0.9\r\n      }\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"wrap-table\">\r\n      <motion.table\r\n        initial=\"offscreen\"\r\n        whileInView=\"onscreen\"\r\n        viewport={{ once: true }}\r\n        variants={cardVariants}\r\n      >\r\n        <caption>Historial</caption>\r\n          {\r\n            cacas ? cacas.map((caca, index) => {\r\n              return (\r\n                <ItemCaca\r\n                  key={index} \r\n                  caca={caca}\r\n                  total={total}\r\n                  average={average}\r\n                  handleDelete={handleDelete} \r\n                />\r\n              )\r\n            })\r\n          :\r\n            <tbody></tbody>\r\n          }  \r\n      </motion.table>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useCallback, useState } from 'react';\r\nimport { Formik, Field } from 'formik';\r\nimport { collection, getDocs, setDoc, query, orderBy, deleteDoc, doc, Timestamp, where } from 'firebase/firestore';\r\nimport { TableCaca } from '../../components/Table/TableCaca';\r\nimport { generateUUID } from '../../utils/utils';\r\nimport { motion } from \"framer-motion\";\r\nimport '../../App.css';\r\n\r\n const Cacas = (props) => {\r\n\r\n  const { db } = props;\r\n\r\n  const [cacas, setCacas] = useState(null);\r\n  const [average, setAverage] = useState(null);\r\n  const [total, setTotal] = useState(0);\r\n\r\n\r\n  const averageCacas = useCallback(() => {\r\n    if(!cacas) return;\r\n    const total = cacas.reduce((acc, caca) => {\r\n        return acc + 1;\r\n    }, 0);\r\n    const average = total / cacas.length;\r\n    return average;\r\n  }, [cacas]);\r\n\r\n\r\n  useEffect(() => {\r\n    if(db) getCacas(db).then(data => setCacas(data));\r\n  }, [db]);\r\n\r\n  useEffect(() => {\r\n    if(db) getTotalCacasByDay(db).then(data => setTotal(data));\r\n  }, [db]);\r\n\r\n  useEffect(() => {\r\n    setAverage(averageCacas());\r\n  }, [cacas, averageCacas]);\r\n\r\n      /**\r\n   *  Eliminate caca\r\n   * @param {*} id \r\n   */\r\n       const handleDelete = async (id) => {\r\n        await deleteDoc(doc(db, \"cacas-v1\", id));\r\n        getCacas(db).then(data => setCacas(data));\r\n      }\r\n    \r\n      /**\r\n       * Set doc\r\n       * @param {*} param0 \r\n       */\r\n      const saveCacas = async ({ type }) => {\r\n          const id = generateUUID();\r\n          await setDoc(doc(db, \"cacas-v1/\", id), {\r\n            id, \r\n            date: new Date().toLocaleDateString(\"es-ES\"),\r\n            type,\r\n            time: new Date().toLocaleTimeString(),\r\n            timeStamp: Timestamp.now()\r\n          }); \r\n        getCacas(db).then(data => setCacas(data));\r\n      }\r\n    \r\n      /**\r\n       * Get All Documents order by timeStamp\r\n       * @param {*} db \r\n       * @returns \r\n       */\r\n      const getCacas = async (db) => {\r\n        const cacasCol = collection(db, 'cacas-v1/');\r\n        const q = query(cacasCol, orderBy(\"timeStamp\", \"desc\"));\r\n        const cacaSnapshot = await getDocs(q);\r\n        const cacaList = cacaSnapshot.docs.map(doc => doc.data());\r\n        return cacaList;\r\n      }\r\n\r\n      /**\r\n       * get total cacas by day\r\n       * @param {*} db \r\n       * @return total cacas\r\n       */\r\n      const getTotalCacasByDay = async (db) => {\r\n        const cacasCol = collection(db, 'cacas-v1/');\r\n        const q = query(cacasCol, where(\"date\", \"==\", new Date().toLocaleDateString(\"es-ES\")));\r\n        const cacaSnapshot = await getDocs(q);\r\n        const cacaList = cacaSnapshot.docs.map(doc => doc.data());\r\n        return cacaList.length;\r\n      }\r\n\r\n\r\n    return (\r\n      <>\r\n        <Formik\r\n          initialValues={{ type: ''}}\r\n          validate={values => {\r\n            const errors = {};\r\n            if (!values.type) {\r\n              errors.type = 'Required';\r\n            }\r\n            return errors;\r\n          }}\r\n          onSubmit={(values, { setSubmitting, resetForm }) => {\r\n            saveCacas(values);\r\n            setSubmitting(false);\r\n            resetForm();\r\n          }}\r\n        >\r\n          {({\r\n            errors,\r\n            handleSubmit,\r\n            isSubmitting\r\n          }) => (\r\n          <form onSubmit={handleSubmit}>\r\n          \r\n            <div className=\"col-s-12 col-xs-12\" role=\"group\" aria-labelledby=\"radio-tit\">\r\n              <div id=\"radio-tit\">Caca</div>\r\n              <label htmlFor=\"type\" className='col-xs-12 col-s-6'>\r\n                Líquida \r\n                <Field type=\"radio\" name=\"type\" value=\"liquida\"  className=\"col-xs-6 col-s-6\"  /> \r\n              </label>      \r\n              <label htmlFor=\"type\" className='col-xs-12 col-s-6'>\r\n                Normal \r\n                <Field type=\"radio\" name=\"type\" value=\"normal\" className=\"col-xs-6 col-s-6\" />\r\n              </label>\r\n              <label htmlFor=\"type\" className='col-xs-12 col-s-6'>\r\n                Pastosa \r\n                <Field type=\"radio\" name=\"type\" value=\"pastosa\" className=\"col-xs-6 col-s-6\"  /> \r\n              </label>\r\n              <label htmlFor=\"type\" className='col-xs-12 col-s-6'>\r\n                Dura \r\n                <Field type=\"radio\" name=\"type\" value=\"dura\" className=\"col-xs-6 col-s-6\"  /> \r\n              </label>\r\n            </div>\r\n\r\n              {errors.type && (\r\n                <span className=\"error\">{errors.type}</span>\r\n              )}\r\n            \r\n            <motion.button\r\n              type=\"submit\" \r\n              className=\"button-register\" \r\n              disabled={isSubmitting}\r\n              whileHover={{ scale: 1.1 }}\r\n              whileTap={{ scale: 0.9 }}\r\n            > Registrar caca\r\n            </motion.button>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n  \r\n      <TableCaca cacas={cacas} total={total} average={average} handleDelete={handleDelete} />\r\n    </>\r\n    );\r\n  }\r\n\r\n  export default Cacas;"],"names":["ItemCaca","props","iconDelete","icon","faTrash","caca","date","time","type","id","handleDelete","total","average","scope","motion","onClick","whileHover","scale","whileTap","TableCaca","cacas","className","initial","whileInView","viewport","once","variants","offscreen","y","onscreen","transition","bounce","duration","map","index","db","useState","setCacas","setAverage","setTotal","averageCacas","useCallback","reduce","acc","length","useEffect","getCacas","then","data","getTotalCacasByDay","deleteDoc","doc","saveCacas","generateUUID","setDoc","Date","toLocaleDateString","toLocaleTimeString","timeStamp","Timestamp","cacasCol","collection","q","query","orderBy","getDocs","cacaSnapshot","cacaList","docs","where","initialValues","validate","values","errors","onSubmit","setSubmitting","resetForm","handleSubmit","isSubmitting","role","htmlFor","name","value","disabled"],"sourceRoot":""}