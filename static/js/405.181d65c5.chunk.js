"use strict";(self.webpackChunktomas_app=self.webpackChunktomas_app||[]).push([[405],{4405:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=n(5861),r=n(885),s=n(7757),c=n.n(s),i=n(2791),o=n(5705),l=n(3014),u=n(4483),d=n(3174),h=n(8630),p=(n(7050),n(184)),f=function(e){var t=(0,p.jsx)(u.G,{icon:d.$aW}),n=e.caca,a=n.date,r=n.time,s=n.type,c=n.id,i=e.handleDelete,o=e.total,l=e.average;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col",children:"Fecha"}),(0,p.jsx)("th",{scope:"col",children:"Hora"}),(0,p.jsx)("th",{scope:"col",children:"Tipo"}),(0,p.jsx)("th",{scope:"col",children:"Total Diario"}),(0,p.jsx)("th",{scope:"col",children:"Promedio"}),(0,p.jsx)("th",{scope:"col",children:"Borrar"})]})}),(0,p.jsx)("tbody",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{"data-label":"Fecha",children:a}),(0,p.jsx)("td",{"data-label":"Hora",children:r}),(0,p.jsx)("td",{"data-label":"Tipo",children:s}),(0,p.jsx)("td",{"data-label":"Total Diario",children:o}),(0,p.jsx)("td",{"data-label":"Promedio",children:l}),(0,p.jsx)("td",{"data-label":"Borrar",children:(0,p.jsx)(h.E.button,{onClick:function(){return i(c)},whileHover:{scale:1.1},whileTap:{scale:.9},children:t})})]})})]})},m=function(e){var t=e.cacas,n=e.total,a=e.average,r=e.handleDelete;return(0,p.jsx)("div",{className:"wrap-table",children:(0,p.jsxs)(h.E.table,{initial:"offscreen",whileInView:"onscreen",viewport:{once:!0},variants:{offscreen:{y:100},onscreen:{y:5,transition:{type:"spring",bounce:.4,duration:.9}}},children:[(0,p.jsx)("caption",{className:"table-title",children:"Historial"}),t?t.map((function(e,t){return(0,p.jsx)(f,{caca:e,total:n,average:a,handleDelete:r},t)})):(0,p.jsx)("tbody",{})]})})},x=n(7577),j=(n(3508),function(e){var t=e.db,n=(0,i.useState)(null),s=(0,r.Z)(n,2),u=s[0],d=s[1],f=(0,i.useState)(null),j=(0,r.Z)(f,2),v=j[0],b=j[1],y=(0,i.useState)(0),w=(0,r.Z)(y,2),g=w[0],S=w[1],D=(0,i.useCallback)((function(){if(u)return u.reduce((function(e,t){return e+1}),0)/u.length}),[u]);(0,i.useEffect)((function(){t&&E(t).then((function(e){return d(e)}))}),[t]),(0,i.useEffect)((function(){t&&F(t).then((function(e){return S(e)}))}),[t]),(0,i.useEffect)((function(){b(D())}),[u,D]);var N=function(){var e=(0,a.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.oe)((0,l.JU)(t,"cacas-v1",n));case 2:E(t).then((function(e){return d(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,a.Z)(c().mark((function e(n){var a,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.type,r=(0,x.DO)(),e.next=4,(0,l.pl)((0,l.JU)(t,"cacas-v1/",r),{id:r,date:(new Date).toLocaleDateString("es-ES"),type:a,time:(new Date).toLocaleTimeString(),timeStamp:l.EK.now()});case 4:E(t).then((function(e){return d(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,a.Z)(c().mark((function e(t){var n,a,r,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.hJ)(t,"cacas-v1/"),a=(0,l.IO)(n,(0,l.Xo)("timeStamp","desc")),e.next=4,(0,l.PL)(a);case 4:return r=e.sent,s=r.docs.map((function(e){return e.data()})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=(0,a.Z)(c().mark((function e(t){var n,a,r,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.hJ)(t,"cacas-v1/"),a=(0,l.IO)(n,(0,l.ar)("date","==",(new Date).toLocaleDateString("es-ES"))),e.next=4,(0,l.PL)(a);case 4:return r=e.sent,s=r.docs.map((function(e){return e.data()})),e.abrupt("return",s.length);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.J9,{initialValues:{type:""},validate:function(e){var t={};return e.type||(t.type="Required"),t},onSubmit:function(e,t){var n=t.setSubmitting,a=t.resetForm;k(e),n(!1),a()},children:function(e){var t=e.errors,n=e.handleSubmit,a=e.isSubmitting;return(0,p.jsxs)("form",{onSubmit:n,children:[(0,p.jsx)("h1",{className:"tomas-title",children:"Cacas"}),(0,p.jsxs)("span",{className:"radio-btns",children:[(0,p.jsxs)("span",{className:"radio-columns",children:[(0,p.jsxs)("label",{htmlFor:"amount",children:["L\xedquida",(0,p.jsx)(o.gN,{type:"radio",name:"type",value:"liquida"})]}),(0,p.jsxs)("label",{htmlFor:"amount",children:["Normal",(0,p.jsx)(o.gN,{type:"radio",name:"type",value:"normal"})]})]}),(0,p.jsxs)("span",{className:"radio-columns",children:[(0,p.jsxs)("label",{htmlFor:"amount",children:["Pastosa",(0,p.jsx)(o.gN,{type:"radio",name:"type",value:"pastosa"})]}),(0,p.jsxs)("label",{htmlFor:"amount",children:["Dura",(0,p.jsx)(o.gN,{type:"radio",name:"type",value:"dura"})]})]})]}),t.type&&(0,p.jsx)("span",{className:"error",children:t.type}),(0,p.jsx)(h.E.button,{type:"submit",className:"button-register",disabled:a,whileHover:{scale:1.1},whileTap:{scale:.9},children:" Registrar"})]})}}),(0,p.jsx)(m,{cacas:u,total:g,average:v,handleDelete:N})]})})},7050:function(){}}]);
//# sourceMappingURL=405.181d65c5.chunk.js.map