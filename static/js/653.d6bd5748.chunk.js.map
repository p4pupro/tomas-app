{"version":3,"file":"static/js/653.d6bd5748.chunk.js","mappings":"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","sources":["components/Items/ItemPeso.js","components/Table/TablePeso.js","pages/Peso/Peso.js"],"sourcesContent":["import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\r\nimport { motion } from \"framer-motion\"\r\nimport '../Table/table.css';\r\n\r\nexport const ItemPeso = (props) => {\r\n\r\n    const iconDelete = <FontAwesomeIcon icon={faTrash} />\r\n    \r\n    const { date, time, weight, id } = props.pes\r\n    const { handleDelete } = props\r\n\r\n    return (\r\n        <>\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">Fecha</th>\r\n                    <th scope=\"col\">Hora</th>\r\n                    <th scope=\"col\">Peso</th>\r\n                    <th scope=\"col\">Borrar</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td data-label=\"Fecha\">{ date }</td>\r\n                    <td data-label=\"Hora\">{ time }</td>\r\n                    <td data-label=\"Peso\">{ weight }</td>\r\n                    <td data-label=\"Borrar\">\r\n                        <motion.button\r\n                            onClick={ () => handleDelete(id) }\r\n                            whileHover={{ scale: 1.1 }}\r\n                            whileTap={{ scale: 0.9 }}\r\n                        >   \r\n                            { iconDelete }\r\n                        </motion.button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </>\r\n       )\r\n}","import { ItemPeso } from '../Items/ItemPeso';\r\nimport { motion } from \"framer-motion\";\r\nimport './table.css';\r\n\r\n\r\nexport const TablePeso = (props) => {\r\n\r\n  const { peso, handleDelete } = props\r\n\r\n  const cardVariants = {\r\n    offscreen: {\r\n      y: 300\r\n    },\r\n    onscreen: {\r\n      y: 5,\r\n      transition: {\r\n        type: \"spring\",\r\n        bounce: 0.4,\r\n        duration: 0.9\r\n      }\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"wrap-table\">\r\n      <motion.table\r\n        initial=\"offscreen\"\r\n        whileInView=\"onscreen\"\r\n        viewport={{ once: true }}\r\n        variants={cardVariants}\r\n      >\r\n        <caption>Historial</caption>\r\n          {\r\n            peso ? peso.map((pes, index) => {\r\n              return (\r\n                <ItemPeso\r\n                  key={index} \r\n                  pes={pes}\r\n                  handleDelete={handleDelete} \r\n                />\r\n              )\r\n            })\r\n          :\r\n            <tbody></tbody>\r\n          }  \r\n      </motion.table>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect, useCallback, useState } from 'react';\r\nimport { collection, getDocs, setDoc, query, orderBy, deleteDoc, doc, Timestamp } from 'firebase/firestore';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBaby } from '@fortawesome/free-solid-svg-icons';\r\nimport { TablePeso } from '../../components/Table/TablePeso';\r\nimport { generateUUID } from '../../utils/utils';\r\nimport { motion } from \"framer-motion\";\r\nimport '../../App.css';\r\n\r\nconst Peso = (props) => {\r\n\r\n  const { db } = props;\r\n\r\n  const [pesos, setPesos] = useState(null);\r\n  const [sizeIcon, setSizeIcon] = useState('1x');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [weight, setWeight] = useState(1);\r\n\r\n  const iconBaby = <FontAwesomeIcon icon={faBaby} size={sizeIcon} />\r\n\r\n  const calculateSizeIcon = useCallback(() => {\r\n    if (!weight) return;\r\n\r\n    if (weight > 9 && weight <= 12) {\r\n      return '5x';\r\n    } if(weight > 6 && weight <= 9) {\r\n      return '4x';\r\n    } if(weight > 3 && weight <= 6) {\r\n      return '3x';\r\n    } else {\r\n      return'2x';\r\n    }\r\n  }, [weight]);\r\n\r\n  useEffect(() => {\r\n    if(db) getPesos(db).then(data => setPesos(data));\r\n  }, [db]);\r\n\r\n  useEffect(() => {\r\n    setSizeIcon(calculateSizeIcon());\r\n  }, [weight, calculateSizeIcon]);\r\n\r\n\r\n      /**\r\n   *  Eliminate peso\r\n   * @param {*} id \r\n   */\r\n       const handleDelete = async (id) => {\r\n        await deleteDoc(doc(db, \"peso-v1\", id));\r\n        getPesos(db).then(data => setPesos(data));\r\n      }\r\n    \r\n      /**\r\n       * Set peso doc\r\n       * @param {*} param0 \r\n       */\r\n      const savePeso = async (weight) => {\r\n          const id = generateUUID();\r\n          await setDoc(doc(db, \"peso-v1/\", id), {\r\n            id, \r\n            date: new Date().toLocaleDateString(\"es-ES\"),\r\n            weight,\r\n            time: new Date().toLocaleTimeString(),\r\n            timeStamp: Timestamp.now()\r\n          }); \r\n        getPesos(db).then(data => setPesos(data));\r\n      }\r\n    \r\n      /**\r\n       * Get All Documents order by timeStamp\r\n       * @param {*} db \r\n       * @returns \r\n       */\r\n      const getPesos = async (db) => {\r\n        const pesoCol = collection(db, 'peso-v1/');\r\n        const q = query(pesoCol, orderBy(\"timeStamp\", \"desc\"));\r\n        const pesoDnapshot = await getDocs(q);\r\n        const pesoList = pesoDnapshot.docs.map(doc => doc.data());\r\n        return pesoList;\r\n      }\r\n\r\n      const handleChange = (event) => { setWeight(event.target.value) }\r\n\r\n      const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        setIsSubmitting(false);\r\n        savePeso(weight);\r\n        setIsSubmitting(false);\r\n        setWeight(1);\r\n      }\r\n\r\n\r\n    return (\r\n      <>\r\n        <form>   \r\n          <div className=\"col-s-12 col-xs-12\" style={{ width: '100%' }} role=\"group\" aria-labelledby=\"radio-tit\">\r\n            <div id=\"radio-tit\">Peso</div>\r\n            <label id=\"weight-peso\" htmlFor=\"peso\" className='col-xs-12 col-s-12'>\r\n              { weight === 1 ? `${ weight } Kg` : `${ weight } Kgs` }\r\n              <input type=\"range\" name=\"peso\" min=\"1\" max=\"12\" step=\"0.10\" onChange={handleChange} value={weight.toString()} id=\"weight-input\"  /> \r\n            </label>\r\n\r\n            {  \r\n              <div className='space'>\r\n                { iconBaby }\r\n              </div>\r\n            }  \r\n              \r\n          </div>\r\n            \r\n          <motion.button\r\n              type=\"submit\" \r\n              className=\"button-register\"\r\n              onClick={handleSubmit}\r\n              disabled={isSubmitting}\r\n              whileHover={{ scale: 1.1 }}\r\n              whileTap={{ scale: 0.9, backgroundColor: '#00B98E' }}\r\n            > Registrar peso\r\n            </motion.button>\r\n        </form>\r\n\r\n        <TablePeso peso={pesos} handleDelete={handleDelete} />\r\n     </>\r\n    );\r\n  }\r\n\r\n  export default Peso;"],"names":["ItemPeso","props","iconDelete","icon","faTrash","pes","date","time","weight","id","handleDelete","scope","motion","onClick","whileHover","scale","whileTap","TablePeso","peso","className","initial","whileInView","viewport","once","variants","offscreen","y","onscreen","transition","type","bounce","duration","map","index","db","useState","pesos","setPesos","sizeIcon","setSizeIcon","isSubmitting","setIsSubmitting","setWeight","iconBaby","faBaby","size","calculateSizeIcon","useCallback","useEffect","getPesos","then","data","deleteDoc","doc","savePeso","generateUUID","setDoc","Date","toLocaleDateString","toLocaleTimeString","timeStamp","Timestamp","pesoCol","collection","q","query","orderBy","getDocs","pesoDnapshot","pesoList","docs","style","width","role","htmlFor","name","min","max","step","onChange","event","target","value","toString","preventDefault","disabled","backgroundColor"],"sourceRoot":""}