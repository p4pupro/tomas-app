"use strict";(self.webpackChunktomas_app=self.webpackChunktomas_app||[]).push([[201],{7201:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(5861),a=r(885),o=r(7757),c=r.n(o),s=r(2791),i=r(5705),l=r(3014),u=r(4483),d=r(3174),h=(r(7050),r(184)),p=function(e){var t=(0,h.jsx)(u.G,{icon:d.$aW}),r=e.pi,n=r.date,a=r.time,o=r.color,c=r.id,s=e.handleDelete,i=e.total,l=e.average;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{scope:"col",children:"Fecha"}),(0,h.jsx)("th",{scope:"col",children:"Hora"}),(0,h.jsx)("th",{scope:"col",children:"Color"}),(0,h.jsx)("th",{scope:"col",children:"Total Diario"}),(0,h.jsx)("th",{scope:"col",children:"Promedio"}),(0,h.jsx)("th",{scope:"col",children:"Borrar"})]})}),(0,h.jsx)("tbody",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{"data-label":"Fecha",children:n}),(0,h.jsx)("td",{"data-label":"Hora",children:a}),(0,h.jsx)("td",{"data-label":"Color",children:o}),(0,h.jsx)("td",{"data-label":"Total Diario",children:i}),(0,h.jsx)("td",{"data-label":"Promedio",children:l}),(0,h.jsx)("td",{"data-label":"Borrar",children:(0,h.jsx)("button",{onClick:function(){return s(c)},children:t})})]})})]})},f=function(e){var t=e.pis,r=e.total,n=e.average,a=e.handleDelete;return(0,h.jsx)("div",{className:"wrap-table",children:(0,h.jsxs)("table",{children:[(0,h.jsx)("caption",{children:"Historial"}),t?t.map((function(e,t){return(0,h.jsx)(p,{pi:e,total:r,average:n,handleDelete:a},t)})):(0,h.jsx)("tbody",{})]})})},x=(r(3508),function(e){var t=e.db,r=(0,s.useState)(null),o=(0,a.Z)(r,2),u=o[0],d=o[1],p=(0,s.useState)(null),x=(0,a.Z)(p,2),m=x[0],j=x[1],v=(0,s.useState)(0),b=(0,a.Z)(v,2),g=b[0],w=b[1],S=(0,s.useCallback)((function(){if(u)return u.reduce((function(e,t){return e+1}),0)/u.length}),[u]);(0,s.useEffect)((function(){t&&k(t).then((function(e){return d(e)}))}),[t]),(0,s.useEffect)((function(){t&&N(t).then((function(e){return w(e)}))}),[t]),(0,s.useEffect)((function(){j(S())}),[u,S]);var y=function(){var e=(0,n.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.oe)((0,l.JU)(t,"pis-v1",r));case 2:k(t).then((function(e){return d(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,n.Z)(c().mark((function e(r){var n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.color,a=crypto.randomUUID(),e.next=4,(0,l.pl)((0,l.JU)(t,"pis-v1/",a),{id:a,date:(new Date).toLocaleDateString("es-ES"),color:n,time:(new Date).toLocaleTimeString(),timeStamp:l.EK.now()});case 4:k(t).then((function(e){return d(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,l.hJ)(t,"pis-v1/"),n=(0,l.IO)(r,(0,l.Xo)("timeStamp","desc")),e.next=4,(0,l.PL)(n);case 4:return a=e.sent,o=a.docs.map((function(e){return e.data()})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,l.hJ)(t,"pis-v1/"),n=(0,l.IO)(r,(0,l.ar)("date","==",(new Date).toLocaleDateString("es-ES"))),e.next=4,(0,l.PL)(n);case 4:return a=e.sent,o=a.docs.map((function(e){return e.data()})),e.abrupt("return",o.length);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.J9,{initialValues:{color:""},validate:function(e){var t={};return e.color||(t.color="Required"),t},onSubmit:function(e,t){var r=t.setSubmitting;D(e),r(!1)},children:function(e){var t=e.errors,r=e.handleSubmit,n=e.isSubmitting;return(0,h.jsxs)("form",{onSubmit:r,children:[(0,h.jsxs)("div",{className:"col-s-12 col-xs-12",role:"group","aria-labelledby":"radio-tit",children:[(0,h.jsx)("div",{id:"radio-tit",children:"Orina"}),(0,h.jsxs)("label",{htmlFor:"color",className:"col-xs-12 col-s-6",children:["Transparente",(0,h.jsx)(i.gN,{type:"radio",name:"color",value:"normal",className:"col-xs-6 col-s-6 pis"})]}),(0,h.jsxs)("label",{htmlFor:"color",className:"col-xs-12 col-s-6",children:["Amarilla",(0,h.jsx)(i.gN,{type:"radio",name:"color",value:"yellow",className:"col-xs-6 col-s-6 pis"})]})]}),t.color&&(0,h.jsx)("span",{className:"error",children:t.color}),(0,h.jsx)("button",{type:"submit",className:"button-register",disabled:n,children:"Registrar Orina"})]})}}),(0,h.jsx)(f,{pis:u,total:g,average:m,handleDelete:y})]})})}}]);
//# sourceMappingURL=201.5fb4df4e.chunk.js.map